{"version":3,"sources":["redux/authSlice.js","components/LoginForm.jsx","components/RegisterForm.jsx","pages/Login.jsx","components/Modal.jsx","redux/postSlice.js","api.js","components/LeftSidebar.jsx","redux/followSlice.js","components/WhoToFollow.jsx","components/RightSidebar.jsx","components/Layout.jsx","components/Post.jsx","pages/Profile.jsx","components/PrivateRoute.jsx","components/AddPost.jsx","pages/Home.jsx","components/Comment.jsx","pages/PostDetails.jsx","App.js","redux/store.js","index.js"],"names":["loginUser","createAsyncThunk","userData","a","axios","post","data","registerUser","getProfile","id","get","getUsers","authSlice","createSlice","name","initialState","status","isLoggedIn","user","profile","userStatus","users","reducers","setAuth","state","action","payload","logout","localStorage","clear","defaults","headers","common","setUser","extraReducers","pending","fulfilled","response","token","email","_id","setItem","JSON","stringify","rejected","actions","LoginForm","useState","password","loginData","setLoginData","dispatch","useDispatch","history","useHistory","useSelector","auth","useEffect","push","onSubmit","e","preventDefault","TextField","onChange","prev","target","value","sx","width","margin","bgcolor","variant","label","type","required","Button","disabled","trimStart","length","padding","borderRadius","color","CircularProgress","size","onClick","RegisterForm","handle","registerData","setRegisterData","Login","isLoginForm","setIsLoginForm","theme","useTheme","Box","display","justifyContent","alignItems","height","shape","breakpoints","values","sm","textAlign","marginBottom","src","alt","Typography","Link","style","textDecoration","cursor","Modal","children","open","handleClose","handleSave","saveText","len","Dialog","onClose","fullWidth","maxWidth","DialogTitle","borderBottom","IconButton","DialogContent","DialogActions","fontSize","getPosts","getPostDetails","getComments","postSlice","posts","postDetails","commentStatus","comments","updateLike","index","findIndex","isLiked","addPost","postData","alert","addComment","commentData","likeOrDislikePost","deletePost","delete","followAccount","follow","followingAccount","unfollowAccount","userId","unfollowingAccount","LeftSidebar","parse","getItem","React","openModal","setOpenModal","handleModalOpen","postText","setPostText","handleAddPost","text","to","backgroundColor","List","ListItem","button","ListItemIcon","Hidden","lgDown","ListItemText","primaryTypographyProps","palette","active","primary","textTransform","lgUp","Grid","container","item","flexGrow","Input","multiline","rows","disableUnderline","placeholder","getFollowings","getFollowers","followSlice","followingStatus","followings","followerStatus","followers","WhoToFollow","handleFollow","followerId","responseFollow","followingId","responseFlwing","paddingRight","fontWeight","mr","ml","background","RightSidebar","query","setQuery","queriedUsers","filter","toLowerCase","includes","paddingTop","border","position","inputProps","startAdornment","Search","paddingLeft","zIndex","maxHeight","overflowY","map","overflow","marginTop","slice","Layout","lg","xs","borderLeft","borderRight","Post","commentText","setCommentText","anchorEl","setAnchorEl","Boolean","handleLike","message","handleAddComment","handleDeletePost","stopPropagation","window","confirm","author","flexWrap","formatDistanceToNow","Date","createdAt","undefined","currentTarget","Menu","MenuListProps","MenuItem","marginRight","Profile","useParams","handleUnfollow","hideFollow","isFollowVisible","follower","backgroundImageUrl","top","left","profileImageUrl","bio","htmlColor","location","marginLeft","href","website","format","marginX","main","PrivateRoute","path","props","AddPost","paddingBottom","borderTop","Home","Comment","comment","PostDetails","likes","App","login","exact","store","configureStore","reducer","createTheme","baseURL","process","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.dea93eaa.chunk.js","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  status: \"idle\",\r\n  isLoggedIn: false,\r\n  user: {},\r\n  profile: {},\r\n  userStatus: \"idle\",\r\n  users: [],\r\n};\r\n\r\nexport const loginUser = createAsyncThunk(\r\n  \"auth/loginUser\",\r\n  async (userData) => {\r\n    const { data } = await axios.post(\"/auth/login\", userData);\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const registerUser = createAsyncThunk(\r\n  \"auth/registerUser\",\r\n  async (userData) => {\r\n    const { data } = await axios.post(\"/auth/register\", userData);\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const getProfile = createAsyncThunk(\"auth/getProfile\", async (id) => {\r\n  const { data } = await axios.get(\"/api/profile/\" + id);\r\n  return data;\r\n});\r\n\r\nexport const getUsers = createAsyncThunk(\"auth/getUsers\", async () => {\r\n  const { data } = await axios.get(\"/auth/users/\");\r\n  return data;\r\n});\r\n\r\nexport const authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    setAuth: (state, action) => {\r\n      state.isLoggedIn = action.payload.isLoggedIn;\r\n    },\r\n    logout: (state, action) => {\r\n      localStorage.clear();\r\n      state.isLoggedIn = false;\r\n      axios.defaults.headers.common[\"authorization\"] = null;\r\n    },\r\n    setUser: (state, action) => {\r\n      state.user = action.payload;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [loginUser.pending]: (state, action) => {\r\n      state.status = \"loading\";\r\n    },\r\n    [loginUser.fulfilled]: (state, action) => {\r\n      const { token, name, email, _id } = action.payload.response;\r\n      localStorage.setItem(\r\n        \"login\",\r\n        JSON.stringify({ token, email, _id, name, isLoggedIn: true })\r\n      );\r\n      state.user.name = name;\r\n      state.user.email = email;\r\n      state.user._id = _id;\r\n      state.status = \"success\";\r\n      state.isLoggedIn = true;\r\n    },\r\n    [loginUser.rejected]: (state, action) => {\r\n      state.status = \"failed\";\r\n      state.isLoggedIn = false;\r\n    },\r\n\r\n    [registerUser.pending]: (state, action) => {\r\n      state.status = \"loading\";\r\n    },\r\n    [registerUser.fulfilled]: (state, action) => {\r\n      state.status = \"success\";\r\n      const { token, name, email } = action.payload.response;\r\n      localStorage.setItem(\r\n        \"login\",\r\n        JSON.stringify({ token, name, email, isLoggedIn: true })\r\n      );\r\n      state.user.name = name;\r\n      state.user.email = email;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [registerUser.rejected]: (state, action) => {\r\n      state.status = \"failed\";\r\n      state.isLoggedIn = false;\r\n    },\r\n\r\n    [getProfile.pending]: (state, action) => {\r\n      state.status = \"loading\";\r\n    },\r\n    [getProfile.fulfilled]: (state, action) => {\r\n      state.status = \"success\";\r\n      state.profile = action.payload.profile;\r\n    },\r\n    [getProfile.rejected]: (state, action) => {\r\n      state.status = \"failed\";\r\n    },\r\n\r\n    [getUsers.pending]: (state, action) => {\r\n      state.userStatus = \"loading\";\r\n    },\r\n    [getUsers.fulfilled]: (state, action) => {\r\n      state.userStatus = \"success\";\r\n      state.users = action.payload.response.users;\r\n    },\r\n    [getUsers.rejected]: (state, action) => {\r\n      state.userStatus = \"failed\";\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\nexport const { setAuth, logout } = authSlice.actions;\r\n","import { Button, CircularProgress, TextField } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { loginUser } from \"../redux/authSlice\";\r\n\r\nexport default function LoginForm() {\r\n  const [loginData, setLoginData] = useState({ email: \"\", password: \"\" });\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { status, isLoggedIn } = useSelector((state) => state.auth);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(loginUser(loginData));\r\n  };\r\n  const loginAsGuest = () => {\r\n    setLoginData({ email: \"tomato@mail.com\", password: \"tomato\" });\r\n    dispatch(loginUser({ email: \"tomato@mail.com\", password: \"tomato\" }));\r\n  };\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n  }, [isLoggedIn, history]);\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField\r\n          onChange={(e) =>\r\n            setLoginData((prev) => ({\r\n              ...prev,\r\n              [e.target.name]: e.target.value,\r\n            }))\r\n          }\r\n          sx={{ width: \"100%\", margin: \"1rem 0\", bgcolor: \"#fff\" }}\r\n          variant=\"outlined\"\r\n          label=\"Enter Email\"\r\n          type=\"email\"\r\n          required\r\n          name=\"email\"\r\n        />\r\n        <TextField\r\n          sx={{ width: \"100%\", margin: \"1rem 0\", bgcolor: \"#fff\" }}\r\n          variant=\"outlined\"\r\n          label=\"Enter Password\"\r\n          type=\"password\"\r\n          required\r\n          onChange={(e) =>\r\n            setLoginData((prev) => ({\r\n              ...prev,\r\n              [e.target.name]: e.target.value,\r\n            }))\r\n          }\r\n          name=\"password\"\r\n        />\r\n        <Button\r\n          disabled={\r\n            loginData.email.trimStart().length === 0 ||\r\n            loginData.password.trimStart().length === 0\r\n          }\r\n          sx={{\r\n            width: \"100%\",\r\n            margin: \"1.5rem 0\",\r\n            padding: \"12px 0\",\r\n            borderRadius: \"28px\",\r\n          }}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          {status === \"loading\" ? (\r\n            <CircularProgress size={24} sx={{ color: \"#FFF\" }} />\r\n          ) : (\r\n            \"Login\"\r\n          )}\r\n        </Button>\r\n      </form>\r\n      <Button\r\n        onClick={loginAsGuest}\r\n        sx={{\r\n          width: \"100%\",\r\n          margin: \".5rem 0 1rem 0.5rem\",\r\n          padding: \"12px 0\",\r\n          borderRadius: \"28px\",\r\n        }}\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n      >\r\n        {status === \"loading\" ? \"Logging in...\" : \"Login as guest\"}\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n","import { Button, CircularProgress, TextField } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { registerUser } from \"../redux/authSlice\";\r\n\r\nexport default function RegisterForm() {\r\n  const [registerData, setRegisterData] = useState({\r\n    name: \"\",\r\n    handle: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { status, isLoggedIn } = useSelector((state) => state.auth);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(registerUser(registerData));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n  }, [isLoggedIn, history]);\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <TextField\r\n        onChange={(e) =>\r\n          setRegisterData((prev) => ({\r\n            ...prev,\r\n            [e.target.name]: e.target.value,\r\n          }))\r\n        }\r\n        name=\"name\"\r\n        sx={{ width: \"100%\", margin: \"1rem 0\", bgcolor: \"#fff\" }}\r\n        variant=\"outlined\"\r\n        label=\"Enter full name\"\r\n        type=\"text\"\r\n        required\r\n      />\r\n      <TextField\r\n        name=\"handle\"\r\n        onChange={(e) =>\r\n          setRegisterData((prev) => ({\r\n            ...prev,\r\n            [e.target.name]: e.target.value,\r\n          }))\r\n        }\r\n        sx={{ width: \"100%\", margin: \"1rem 0\", bgcolor: \"#fff\" }}\r\n        variant=\"outlined\"\r\n        label=\"Choose an handle\"\r\n        type=\"text\"\r\n        required\r\n      />\r\n      <TextField\r\n        name=\"email\"\r\n        onChange={(e) =>\r\n          setRegisterData((prev) => ({\r\n            ...prev,\r\n            [e.target.name]: e.target.value,\r\n          }))\r\n        }\r\n        sx={{ width: \"100%\", margin: \"1rem 0\", bgcolor: \"#fff\" }}\r\n        variant=\"outlined\"\r\n        label=\"Enter Email\"\r\n        type=\"email\"\r\n        required\r\n      />\r\n      <TextField\r\n        name=\"password\"\r\n        onChange={(e) =>\r\n          setRegisterData((prev) => ({\r\n            ...prev,\r\n            [e.target.name]: e.target.value,\r\n          }))\r\n        }\r\n        sx={{ width: \"100%\", margin: \"1rem 0\", bgcolor: \"#fff\" }}\r\n        variant=\"outlined\"\r\n        label=\"Enter Password\"\r\n        type=\"password\"\r\n        required\r\n      />\r\n      <Button\r\n        disabled={\r\n          registerData.email.trimStart().length === 0 ||\r\n          registerData.password.trimStart().length === 0 ||\r\n          registerData.handle.trimStart().length === 0 ||\r\n          registerData.name.trimStart().length === 0\r\n        }\r\n        type=\"submit\"\r\n        sx={{\r\n          width: \"100%\",\r\n          margin: \"1.5rem 0\",\r\n          padding: \"12px 0\",\r\n          borderRadius: \"28px\",\r\n        }}\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n      >\r\n        {status === \"loading\" ? (\r\n          <CircularProgress size={24} sx={{ color: \"#FFF\" }} />\r\n        ) : (\r\n          \"Register\"\r\n        )}\r\n      </Button>\r\n    </form>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport LoginForm from \"../components/LoginForm\";\r\nimport RegisterForm from \"../components/RegisterForm\";\r\nimport Link from \"@mui/material/Link\";\r\nimport Typography from \"@mui/material/Typography\";\r\n\r\nexport default function Login() {\r\n  const [isLoginForm, setIsLoginForm] = useState(true);\r\n  const theme = useTheme();\r\n  return (\r\n    <Box\r\n      display=\"flex\"\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      sx={{\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n      }}\r\n    >\r\n      <Box\r\n        borderRadius={theme.shape.borderRadius}\r\n        sx={{\r\n          width: theme.breakpoints.values.sm,\r\n          bgcolor: \"#EFF3F4\",\r\n          padding: \" 3rem 2rem\",\r\n        }}\r\n      >\r\n        <Box textAlign=\"center\" marginBottom=\"1rem\">\r\n          <img src=\"/logo.png\" alt=\"Logo\" />\r\n        </Box>\r\n        {isLoginForm ? (\r\n          <Typography variant=\"h5\">Login to your account</Typography>\r\n        ) : (\r\n          <Typography variant=\"h5\">Create a new account</Typography>\r\n        )}\r\n        {isLoginForm ? <LoginForm /> : <RegisterForm />}\r\n        {isLoginForm ? (\r\n          <Box textAlign=\"center\" margin=\".5rem 0\">\r\n            Don't have an account?{\" \"}\r\n            <Link\r\n              style={{ textDecoration: \"none\", cursor: \"pointer\" }}\r\n              onClick={() => setIsLoginForm(false)}\r\n            >\r\n              Create one\r\n            </Link>\r\n          </Box>\r\n        ) : (\r\n          <Box textAlign=\"center\" margin=\".5rem 0\">\r\n            Already registered?{\" \"}\r\n            <Link\r\n              style={{ textDecoration: \"none\", cursor: \"pointer\" }}\r\n              onClick={() => setIsLoginForm(true)}\r\n            >\r\n              Sign in\r\n            </Link>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport { Box, useTheme } from \"@mui/system\";\r\nexport default function Modal({\r\n  children,\r\n  open,\r\n  handleClose,\r\n  handleSave,\r\n  saveText,\r\n  len,\r\n}) {\r\n  const theme = useTheme();\r\n  const handleClick = () => {\r\n    handleSave();\r\n    handleClose();\r\n  };\r\n  return (\r\n    <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\r\n      <DialogTitle>\r\n        <Box textAlign=\"right\" borderBottom=\"1px solid #ccc\">\r\n          <IconButton onClick={handleClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Box>\r\n      </DialogTitle>\r\n      <DialogContent>{children}</DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          disabled={len === 0}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          sx={{\r\n            borderRadius: theme.shape.borderRadius,\r\n            fontSize: \"12px\",\r\n          }}\r\n          onClick={handleClick}\r\n        >\r\n          {saveText}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  status: \"idle\",\r\n  posts: [],\r\n  postDetails: {},\r\n  commentStatus: \"idle\",\r\n  comments: [],\r\n};\r\n\r\nexport const getPosts = createAsyncThunk(\"post/getPosts\", async () => {\r\n  const { data } = await axios.get(\"/api/posts\");\r\n  return data;\r\n});\r\n\r\nexport const getPostDetails = createAsyncThunk(\r\n  \"post/getPostDetails\",\r\n  async (id) => {\r\n    const { data } = await axios.get(\"/api/posts/\" + id);\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const getComments = createAsyncThunk(\"post/getComments\", async (id) => {\r\n  const { data } = await axios.get(\"/api/comments/\" + id);\r\n  return data;\r\n});\r\n\r\nexport const postSlice = createSlice({\r\n  name: \"post\",\r\n  initialState,\r\n  reducers: {\r\n    updateLike: (state, action) => {\r\n      const index = state.posts.findIndex(\r\n        (post) => post._id === action.payload.id\r\n      );\r\n      state.posts[index].isLiked = !state.posts[index].isLiked;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [getPosts.pending]: (state, action) => {\r\n      state.status = \"loading\";\r\n    },\r\n    [getPosts.fulfilled]: (state, action) => {\r\n      state.status = \"success\";\r\n      state.posts = action.payload.response.posts;\r\n    },\r\n    [getPosts.rejected]: (state, action) => {\r\n      state.status = \"failed\";\r\n    },\r\n\r\n    [getPostDetails.pending]: (state, action) => {\r\n      state.status = \"loading\";\r\n    },\r\n    [getPostDetails.fulfilled]: (state, action) => {\r\n      state.status = \"success\";\r\n      state.postDetails = action.payload.response.post;\r\n    },\r\n    [getPostDetails.rejected]: (state, action) => {\r\n      state.status = \"failed\";\r\n    },\r\n\r\n    [getComments.pending]: (state, action) => {\r\n      state.commentStatus = \"loading\";\r\n    },\r\n    [getComments.fulfilled]: (state, action) => {\r\n      state.commentStatus = \"success\";\r\n      state.comments = action.payload.response.comments;\r\n    },\r\n    [getComments.rejected]: (state, action) => {\r\n      state.commentStatus = \"failed\";\r\n    },\r\n  },\r\n});\r\n\r\nexport default postSlice.reducer;\r\nexport const { updateLike } = postSlice.actions;\r\n","import axios from \"axios\";\r\n\r\nexport const addPost = async (postData) => {\r\n  try {\r\n    const { data } = await axios.post(\"/api/posts\", postData);\r\n    return data;\r\n  } catch (error) {\r\n    alert(\"Something went wrong.\");\r\n  }\r\n};\r\n\r\nexport const addComment = async (commentData) => {\r\n  try {\r\n    const { data } = await axios.post(\r\n      \"/api/comments/\" + commentData.id,\r\n      commentData\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    alert(\"Something went wrong.\");\r\n  }\r\n};\r\n\r\nexport const likeOrDislikePost = async (postData) => {\r\n  try {\r\n    const { data } = await axios.post(\"/api/posts/likes\", postData);\r\n    return data;\r\n  } catch (error) {\r\n    alert(\"Something went wrong.\");\r\n  }\r\n};\r\n\r\nexport const deletePost = async (postData) => {\r\n  try {\r\n    const { data } = await axios.delete(`/api/posts/${postData.id}`);\r\n    return data;\r\n  } catch (error) {\r\n    alert(\"Something went wrong.\");\r\n  }\r\n};\r\n\r\nexport const followAccount = async (follow) => {\r\n  try {\r\n    const { data } = await axios.post(\"/api/followers\", follow);\r\n    return data;\r\n  } catch (error) {\r\n    alert(\"Something went wrong.\");\r\n  }\r\n};\r\n\r\nexport const followingAccount = async (follow) => {\r\n  try {\r\n    const { data } = await axios.post(\"/api/followings\", follow);\r\n    return data;\r\n  } catch (error) {\r\n    alert(\"Something went wrong.\");\r\n  }\r\n};\r\n\r\nexport const unfollowAccount = async (follow) => {\r\n  try {\r\n    const { data } = await axios.delete(\r\n      \"/api/followers/\" + follow.id + \"?userId=\" + follow.userId\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    alert(\"Something went wrong.\");\r\n  }\r\n};\r\n\r\nexport const unfollowingAccount = async (follow) => {\r\n  try {\r\n    const { data } = await axios.delete(\r\n      \"/api/followings?followingId=\" + follow.id + \"&userId=\" + follow.userId\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    alert(\"Something went wrong.\");\r\n  }\r\n};\r\n","import * as React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport List from \"@mui/material/List\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport HomeIcon from \"@mui/icons-material/Home\";\r\nimport {\r\n  Button,\r\n  Grid,\r\n  Hidden,\r\n  IconButton,\r\n  Input,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport BookmarkIcon from \"@mui/icons-material/Bookmark\";\r\nimport PersonOutlineIcon from \"@mui/icons-material/PersonOutline\";\r\nimport LogoutIcon from \"@mui/icons-material/Logout\";\r\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\r\nimport AddCircleOutlineIcon from \"@mui/icons-material/AddCircleOutline\";\r\nimport { logout } from \"../redux/authSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport Modal from \"./Modal\";\r\nimport { getPosts } from \"../redux/postSlice\";\r\nimport { addPost } from \"../api\";\r\n\r\nexport default function LeftSidebar() {\r\n  const theme = useTheme();\r\n\r\n  const dispatch = useDispatch();\r\n  const { _id } = JSON.parse(localStorage.getItem(\"login\"));\r\n\r\n  const [openModal, setOpenModal] = React.useState(false);\r\n  const handleModalClose = () => {\r\n    setOpenModal(false);\r\n  };\r\n\r\n  const handleModalOpen = () => {\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const [postText, setPostText] = React.useState(\"\");\r\n  const handleAddPost = async () => {\r\n    const data = await addPost({ text: postText });\r\n    if (data) {\r\n      dispatch(getPosts());\r\n      setPostText(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ height: \"100vh\", maxWidth: \"100%\" }}>\r\n        <Box textAlign=\"center\">\r\n          <Link\r\n            to=\"/\"\r\n            style={{\r\n              textDecoration: \"none\",\r\n              color: \"inherit\",\r\n              backgroundColor: \"inherit\",\r\n            }}\r\n          >\r\n            <img src=\"/logo.png\" alt=\"logo\" width=\"50px\" />\r\n          </Link>\r\n        </Box>\r\n        <List>\r\n          <NavLink\r\n            to=\"/\"\r\n            style={{\r\n              textDecoration: \"none\",\r\n              color: \"inherit\",\r\n              backgroundColor: \"inherit\",\r\n            }}\r\n          >\r\n            <ListItem\r\n              button\r\n              sx={{\r\n                borderRadius: \"28px\",\r\n                margin: \".5rem 0\",\r\n              }}\r\n            >\r\n              <ListItemIcon>\r\n                <HomeIcon fontSize=\"medium\" color=\"action\" />\r\n              </ListItemIcon>\r\n              <Hidden lgDown>\r\n                <ListItemText\r\n                  primaryTypographyProps={{\r\n                    fontSize: \"18px\",\r\n                    color: theme.palette.action.active,\r\n                  }}\r\n                  primary=\"Home\"\r\n                />\r\n              </Hidden>\r\n            </ListItem>\r\n          </NavLink>\r\n          <ListItem\r\n            button\r\n            sx={{\r\n              borderRadius: \"28px\",\r\n              margin: \".5rem 0\",\r\n            }}\r\n          >\r\n            <ListItemIcon>\r\n              <BookmarkIcon fontSize=\"medium\" color=\"action\" />\r\n            </ListItemIcon>\r\n            <Hidden lgDown>\r\n              <ListItemText\r\n                primaryTypographyProps={{\r\n                  fontSize: \"18px\",\r\n                  color: theme.palette.action.active,\r\n                }}\r\n                primary=\"Bookmarks\"\r\n              />\r\n            </Hidden>\r\n          </ListItem>\r\n          <ListItem\r\n            button\r\n            sx={{\r\n              borderRadius: \"28px\",\r\n              margin: \".5rem 0\",\r\n            }}\r\n          >\r\n            <ListItemIcon>\r\n              <FavoriteIcon fontSize=\"medium\" color=\"action\" />\r\n            </ListItemIcon>\r\n            <Hidden lgDown>\r\n              <ListItemText\r\n                primaryTypographyProps={{\r\n                  fontSize: \"18px\",\r\n                  color: theme.palette.action.active,\r\n                }}\r\n                primary=\"Likes\"\r\n              />\r\n            </Hidden>\r\n          </ListItem>\r\n          <NavLink\r\n            to={`/profile/${_id}`}\r\n            style={{\r\n              textDecoration: \"none\",\r\n              color: \"inherit\",\r\n              backgroundColor: \"inherit\",\r\n            }}\r\n          >\r\n            <ListItem\r\n              button\r\n              sx={{\r\n                borderRadius: \"28px\",\r\n                margin: \".5rem 0\",\r\n              }}\r\n            >\r\n              <ListItemIcon>\r\n                <PersonOutlineIcon fontSize=\"medium\" color=\"action\" />\r\n              </ListItemIcon>\r\n              <Hidden lgDown>\r\n                <ListItemText\r\n                  primaryTypographyProps={{\r\n                    fontSize: \"18px\",\r\n                    color: theme.palette.action.active,\r\n                  }}\r\n                  primary=\"Profile\"\r\n                />\r\n              </Hidden>\r\n            </ListItem>\r\n          </NavLink>\r\n          <ListItem\r\n            id=\"basic-button\"\r\n            button\r\n            sx={{\r\n              borderRadius: \"28px\",\r\n              margin: \".5rem 0\",\r\n            }}\r\n            onClick={() => {\r\n              dispatch(logout());\r\n            }}\r\n          >\r\n            <ListItemIcon>\r\n              <LogoutIcon fontSize=\"medium\" color=\"action\" />\r\n            </ListItemIcon>\r\n            <Hidden lgDown>\r\n              <ListItemText\r\n                primaryTypographyProps={{\r\n                  fontSize: \"18px\",\r\n                  color: theme.palette.action.active,\r\n                }}\r\n                primary=\"Logout\"\r\n              />\r\n            </Hidden>\r\n          </ListItem>\r\n        </List>\r\n        <Hidden lgDown>\r\n          <Button\r\n            onClick={handleModalOpen}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            fullWidth\r\n            style={{\r\n              borderRadius: \"28px\",\r\n              padding: \"10px\",\r\n              textTransform: \"capitalize\",\r\n            }}\r\n          >\r\n            Post\r\n          </Button>\r\n        </Hidden>\r\n        <Hidden lgUp>\r\n          <IconButton\r\n            onClick={handleModalOpen}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            style={{\r\n              borderRadius: \"28px\",\r\n              padding: \"0 15px\",\r\n              textTransform: \"capitalize\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            <AddCircleOutlineIcon />\r\n          </IconButton>\r\n        </Hidden>\r\n      </Box>\r\n      {openModal && (\r\n        <Modal\r\n          open={openModal}\r\n          handleClose={handleModalClose}\r\n          saveText={\"Post\"}\r\n          len={postText.trimStart().length}\r\n          handleSave={handleAddPost}\r\n        >\r\n          <Box>\r\n            <Grid container>\r\n              <Grid item>\r\n                <img src=\"/logo.png\" alt=\"logo\" width=\"60px\" />\r\n              </Grid>\r\n              <Grid item flexGrow=\"1\">\r\n                <Box padding=\".5rem 0\">\r\n                  <Input\r\n                    value={postText}\r\n                    onChange={(e) => setPostText(e.target.value)}\r\n                    multiline\r\n                    rows=\"2\"\r\n                    disableUnderline\r\n                    type=\"text\"\r\n                    placeholder=\"What's happening?\"\r\n                    sx={{ width: \"100%\" }}\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  followingStatus: \"idle\",\r\n  followings: [],\r\n  followerStatus: \"idle\",\r\n  followers: [],\r\n};\r\n\r\nexport const getFollowings = createAsyncThunk(\r\n  \"follow/getFollowings\",\r\n  async (id) => {\r\n    const { data } = await axios.get(\"/api/followings/\" + id);\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const getFollowers = createAsyncThunk(\r\n  \"follow/getFollowers\",\r\n  async (id) => {\r\n    const { data } = await axios.get(\"/api/followers/\" + id);\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const followSlice = createSlice({\r\n  name: \"follow\",\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: {\r\n    [getFollowings.pending]: (state, action) => {\r\n      state.followingStatus = \"loading\";\r\n    },\r\n    [getFollowings.fulfilled]: (state, action) => {\r\n      state.followingStatus = \"success\";\r\n      state.followings = action.payload.response.followings;\r\n    },\r\n    [getFollowings.rejected]: (state, action) => {\r\n      state.followingStatus = \"failed\";\r\n    },\r\n\r\n    [getFollowers.pending]: (state, action) => {\r\n      state.followerStatus = \"loading\";\r\n    },\r\n    [getFollowers.fulfilled]: (state, action) => {\r\n      state.followerStatus = \"success\";\r\n      state.followers = action.payload.response.followers;\r\n    },\r\n    [getFollowers.rejected]: (state, action) => {\r\n      state.followerStatus = \"failed\";\r\n    },\r\n  },\r\n});\r\n\r\nexport default followSlice.reducer;\r\n// export const {  } = followSlice.actions;\r\n","import { Typography, useTheme } from \"@mui/material\";\r\nimport { Button, Grid } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { followAccount, followingAccount } from \"../api\";\r\nimport { getFollowers, getFollowings } from \"../redux/followSlice\";\r\n\r\nexport default function WhoToFollow({ user }) {\r\n  const theme = useTheme();\r\n  const { _id } = JSON.parse(localStorage.getItem(\"login\"));\r\n  const dispatch = useDispatch();\r\n\r\n  const handleFollow = async () => {\r\n    const responseFollow = await followAccount({\r\n      userId: user._id,\r\n      followerId: _id,\r\n    });\r\n    const responseFlwing = await followingAccount({\r\n      followingId: user._id,\r\n      userId: _id,\r\n    });\r\n    if (responseFollow) {\r\n      dispatch(getFollowers(_id));\r\n    }\r\n    if (responseFlwing) {\r\n      dispatch(getFollowings(_id));\r\n    }\r\n  };\r\n  return (\r\n    <Box margin=\"1rem 0\">\r\n      <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n        <Grid item>\r\n          <Grid container>\r\n            <Link to={`/profile/${user._id}`}>\r\n              <Grid item sx={{ paddingRight: \"12px\" }}>\r\n                <img src=\"/logo.png\" width=\"50px\" alt=\"logo\" />\r\n              </Grid>\r\n            </Link>\r\n            <Grid item>\r\n              <Grid container alignItems=\"center\">\r\n                <Grid item>\r\n                  <Typography sx={{ fontSize: \"16px\", fontWeight: \"500\" }}>\r\n                    {user.name}\r\n                  </Typography>\r\n                  <Box display=\"flex\" alignItems=\"center\">\r\n                    <Typography\r\n                      sx={{ fontSize: \"14px\", mr: \"6px\", color: \"#555\" }}\r\n                    >\r\n                      {user.handle}\r\n                    </Typography>\r\n                    {/* <Typography\r\n                      sx={{\r\n                        fontSize: \"12px\",\r\n                        background: \"#ccc\",\r\n                        borderRadius: theme.shape.borderRadius,\r\n                        padding: \"0 6px\",\r\n                        color: \"#777\",\r\n                      }}\r\n                    >\r\n                      follows you\r\n                    </Typography> */}\r\n                  </Box>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item>\r\n          <Button\r\n            onClick={handleFollow}\r\n            size=\"small\"\r\n            sx={{\r\n              borderRadius: theme.shape.borderRadius,\r\n              textTransform: \"capitalize\",\r\n              ml: \"12px\",\r\n              background: \"black\",\r\n              \"&:hover\": {\r\n                background: \"#333\",\r\n              },\r\n            }}\r\n            variant=\"contained\"\r\n          >\r\n            Follow\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n","import { Search } from \"@mui/icons-material\";\r\nimport { Input, Typography, Grid, CircularProgress } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport WhoToFollow from \"./WhoToFollow\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getFollowings } from \"../redux/followSlice\";\r\n\r\nexport default function RightSidebar() {\r\n  const [query, setQuery] = React.useState(\"\");\r\n  const { _id } = JSON.parse(localStorage.getItem(\"login\"));\r\n  const dispatch = useDispatch();\r\n  const { users, userStatus } = useSelector((state) => state.auth);\r\n  const { followingStatus, followings } = useSelector((state) => state.follow);\r\n  function queriedUsers() {\r\n    return users.filter(\r\n      (user) =>\r\n        user.name.toLowerCase().includes(query.toLowerCase()) ||\r\n        user.handle.toLowerCase().includes(query.toLowerCase())\r\n    );\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(getFollowings(_id));\r\n  }, [dispatch, _id]);\r\n\r\n  function showToFollow() {\r\n    const filtered = users.filter((user) => user._id !== _id);\r\n\r\n    return filtered.filter((item) => {\r\n      const index = followings.findIndex(\r\n        (follow) => follow.followingId === item._id\r\n      );\r\n      if (index !== -1) {\r\n        return false;\r\n      }\r\n      return true;\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ height: \"100%\" }}>\r\n      <Box paddingTop=\"10px\">\r\n        <Box\r\n          width=\"100%\"\r\n          borderRadius=\"28px\"\r\n          border=\"1px solid #eee\"\r\n          position=\"relative\"\r\n          sx={{\r\n            background: \"#eee\",\r\n          }}\r\n        >\r\n          <Input\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n            type=\"text\"\r\n            inputProps={{\r\n              style: { padding: \"10px\" },\r\n            }}\r\n            disableUnderline\r\n            fullWidth\r\n            placeholder=\"Search\"\r\n            startAdornment={\r\n              <Search\r\n                sx={{\r\n                  paddingLeft: \"20px\",\r\n                  color: \"#777\",\r\n                }}\r\n              />\r\n            }\r\n          />\r\n          {query.length !== 0 && (\r\n            <Box\r\n              width=\"100%\"\r\n              sx={{\r\n                backgroundColor: \"white\",\r\n                border: \"1px solid #eee\",\r\n                borderRadius: \"28px\",\r\n                padding: \"1rem 0\",\r\n                zIndex: \"999\",\r\n                maxHeight: \"50vh\",\r\n                overflowY: \"scroll\",\r\n              }}\r\n              position=\"absolute\"\r\n            >\r\n              {query.length !== 0 && queriedUsers().length === 0 && (\r\n                <Typography sx={{ padding: \"0 1rem\" }}>\r\n                  No users found!\r\n                </Typography>\r\n              )}\r\n              {queriedUsers().map((user) => (\r\n                <Box key={user._id}>\r\n                  <Link\r\n                    onClick={() => setQuery(\"\")}\r\n                    style={{ textDecoration: \"none\" }}\r\n                    to={`/profile/${user._id}`}\r\n                  >\r\n                    <Grid\r\n                      sx={{\r\n                        overflow: \"hidden\",\r\n                        padding: \".2rem 1rem\",\r\n                        \"&:hover\": {\r\n                          backgroundColor: \"#eee\",\r\n                        },\r\n                      }}\r\n                      container\r\n                      alignItems=\"center\"\r\n                    >\r\n                      <Grid item sx={{ paddingRight: \"12px\" }}>\r\n                        <img src=\"/logo.png\" width=\"50px\" alt=\"logo\" />\r\n                      </Grid>\r\n                      <Grid item>\r\n                        <Grid container alignItems=\"center\">\r\n                          <Grid item>\r\n                            <Typography\r\n                              sx={{\r\n                                fontSize: \"16px\",\r\n                                fontWeight: \"500\",\r\n                                color: \"#000\",\r\n                              }}\r\n                            >\r\n                              {user.name}\r\n                            </Typography>\r\n                            <Box display=\"flex\" alignItems=\"center\">\r\n                              <Typography\r\n                                sx={{\r\n                                  fontSize: \"14px\",\r\n                                  mr: \"6px\",\r\n                                  color: \"#555\",\r\n                                }}\r\n                              >\r\n                                {user.handle}\r\n                              </Typography>\r\n                            </Box>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Link>\r\n                </Box>\r\n              ))}\r\n            </Box>\r\n          )}\r\n        </Box>\r\n        <Box\r\n          sx={{\r\n            background: \"#eee\",\r\n            borderRadius: \"28px\",\r\n            padding: \"10px 20px\",\r\n            margin: \"1rem 0\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ fontWeight: \"bold\" }}>\r\n            Who to follow\r\n          </Typography>\r\n          <Box textAlign=\"center\" marginTop=\"1rem\">\r\n            {(userStatus === \"loading\" || followingStatus === \"loading\") && (\r\n              <CircularProgress size={20} color=\"primary\" />\r\n            )}\r\n          </Box>\r\n          {userStatus === \"success\" &&\r\n            showToFollow()\r\n              .slice(0, 7)\r\n              .map((item) => <WhoToFollow key={item._id} user={item} />)}\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport LeftSidebar from \"./LeftSidebar\";\r\nimport RightSidebar from \"./RightSidebar\";\r\nimport Box from \"@mui/material/Box\";\r\nimport { Grid, Hidden } from \"@mui/material\";\r\nimport { useTheme } from \"@mui/system\";\r\nimport { getUsers } from \"../redux/authSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nexport default function Layout({ children }) {\r\n  const theme = useTheme();\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getUsers());\r\n  }, [dispatch]);\r\n  return (\r\n    <Box\r\n      sx={{\r\n        maxWidth: theme.breakpoints.values.lg,\r\n        margin: \"0 auto\",\r\n      }}\r\n    >\r\n      <Grid container>\r\n        <Grid item xs={1} lg={2}>\r\n          <LeftSidebar />\r\n        </Grid>\r\n        <Grid item xs={11} lg={10}>\r\n          <Grid container>\r\n            <Grid item xs={12} lg={8}>\r\n              <Box\r\n                sx={{\r\n                  height: \"100vh\",\r\n                  margin: \"0 1rem\",\r\n                  borderLeft: \"1px solid #ccc\",\r\n                  borderRight: \"1px solid #ccc\",\r\n                }}\r\n              >\r\n                {children}\r\n              </Box>\r\n            </Grid>\r\n            <Hidden lgDown>\r\n              <Grid item lg={4} sx={{ height: \"100vh\" }}>\r\n                <RightSidebar />\r\n              </Grid>\r\n            </Hidden>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n","import {\r\n  Grid,\r\n  IconButton,\r\n  Input,\r\n  Typography,\r\n  Menu,\r\n  MenuItem,\r\n} from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport formatDistanceToNow from \"date-fns/formatDistanceToNow\";\r\nimport React, { useState } from \"react\";\r\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\r\nimport ChatBubbleOutlineIcon from \"@mui/icons-material/ChatBubbleOutline\";\r\nimport SyncIcon from \"@mui/icons-material/Sync\";\r\nimport FavoriteBorderIcon from \"@mui/icons-material/FavoriteBorder\";\r\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\r\nimport IosShareIcon from \"@mui/icons-material/IosShare\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { addComment, deletePost, likeOrDislikePost } from \"../api\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getPosts, updateLike } from \"../redux/postSlice\";\r\nimport Modal from \"./Modal\";\r\nimport { getProfile } from \"../redux/authSlice\";\r\n\r\nexport default function Post({ post, profile }) {\r\n  const dispatch = useDispatch();\r\n  const [commentText, setCommentText] = useState(\"\");\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const { _id } = JSON.parse(localStorage.getItem(\"login\"));\r\n  const handleLike = async (e) => {\r\n    e.preventDefault();\r\n    dispatch(updateLike({ id: post._id }));\r\n    const response = await likeOrDislikePost({ id: post._id });\r\n    if (response.message !== \"Post updated successfully.\") {\r\n      dispatch(updateLike({ id: post._id }));\r\n    }\r\n  };\r\n  const handleAddComment = async () => {\r\n    const response = await addComment({ id: post._id, text: commentText });\r\n    if (response) {\r\n      setCommentText(\"\");\r\n    }\r\n  };\r\n\r\n  const handleDeletePost = async (e) => {\r\n    e.stopPropagation();\r\n    const confirmation = window.confirm(\"Are you sure to delete this post?\");\r\n    if (!confirmation) return;\r\n    const response = await deletePost({ id: post._id });\r\n    if (response) {\r\n      if (profile) {\r\n        dispatch(getProfile(post.author._id));\r\n      } else {\r\n        dispatch(getPosts());\r\n      }\r\n    }\r\n  };\r\n\r\n  const [openModal, setOpenModal] = React.useState(false);\r\n  const handleModalClose = () => {\r\n    setOpenModal(false);\r\n  };\r\n\r\n  const handleModalOpen = () => {\r\n    setOpenModal(true);\r\n  };\r\n  return (\r\n    <>\r\n      <Link\r\n        to={`/posts/${post._id}`}\r\n        style={{ textDecoration: \"none\", color: \"inherit\" }}\r\n      >\r\n        <Box\r\n          padding=\"1rem\"\r\n          sx={{\r\n            \"&:hover\": {\r\n              backgroundColor: \"#eee\",\r\n            },\r\n          }}\r\n        >\r\n          <Grid container flexWrap=\"nowrap\">\r\n            <Grid item sx={{ paddingRight: \"1rem\" }}>\r\n              <Link to={`/profile/${post.author._id}`}>\r\n                <img src=\"/logo.png\" alt=\"lgoog\" width=\"50px\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item flexGrow=\"1\">\r\n              <Box>\r\n                <Grid\r\n                  container\r\n                  justifyContent=\"space-between\"\r\n                  alignItems=\"center\"\r\n                  flexWrap=\"nowrap\"\r\n                >\r\n                  <Grid item>\r\n                    <Box display=\"flex\">\r\n                      <Typography\r\n                        sx={{ fontSize: \"16px\", fontWeight: 500, mr: \"6px\" }}\r\n                      >\r\n                        {post.author.name}\r\n                      </Typography>\r\n                      <Typography\r\n                        sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\r\n                      >\r\n                        @{post.author.handle}\r\n                      </Typography>\r\n                      <Typography\r\n                        sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\r\n                      >\r\n                        .\r\n                      </Typography>\r\n                      <Typography\r\n                        sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\r\n                      >\r\n                        {formatDistanceToNow(new Date(post.createdAt))}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Box>\r\n                      <Typography sx={{ fontSize: \"15px\", color: \"#555\" }}>\r\n                        {post.text}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    {post.author._id === _id && (\r\n                      <IconButton\r\n                        aria-expanded={open ? \"true\" : undefined}\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          handleClick(e);\r\n                        }}\r\n                      >\r\n                        <MoreHorizIcon />\r\n                      </IconButton>\r\n                    )}\r\n                    <Menu\r\n                      id=\"basic-menu\"\r\n                      anchorEl={anchorEl}\r\n                      open={open}\r\n                      onClose={handleClose}\r\n                      onClick={(e) => e.stopPropagation()}\r\n                      MenuListProps={{\r\n                        \"aria-labelledby\": \"basic-button\",\r\n                      }}\r\n                    >\r\n                      <MenuItem onClick={(e) => handleDeletePost(e)}>\r\n                        Delete Post\r\n                      </MenuItem>\r\n                    </Menu>\r\n                  </Grid>\r\n                </Grid>\r\n                <Box\r\n                  display=\"flex\"\r\n                  justifyContent=\"space-between\"\r\n                  marginRight=\"5rem\"\r\n                  marginTop=\".8rem\"\r\n                >\r\n                  <IconButton\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      handleModalOpen();\r\n                    }}\r\n                    size=\"small\"\r\n                  >\r\n                    <ChatBubbleOutlineIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                  <IconButton size=\"small\">\r\n                    <SyncIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                  <IconButton onClick={handleLike} size=\"small\">\r\n                    {post.isLiked ? (\r\n                      <FavoriteIcon fontSize=\"small\" />\r\n                    ) : (\r\n                      <FavoriteBorderIcon fontSize=\"small\" />\r\n                    )}\r\n                  </IconButton>\r\n                  <IconButton size=\"small\">\r\n                    <IosShareIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                </Box>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Link>\r\n      {openModal && (\r\n        <Modal\r\n          open={openModal}\r\n          handleClose={handleModalClose}\r\n          saveText={\"Comment\"}\r\n          len={commentText.trimStart().length}\r\n          handleSave={handleAddComment}\r\n        >\r\n          <Box>\r\n            <Grid container>\r\n              <Grid item>\r\n                <img src=\"/logo.png\" alt=\"logo\" width=\"60px\" />\r\n              </Grid>\r\n              <Grid item flexGrow=\"1\">\r\n                <Box padding=\".5rem 0\">\r\n                  <Input\r\n                    onChange={(e) => setCommentText(e.target.value)}\r\n                    value={commentText}\r\n                    multiline\r\n                    rows=\"2\"\r\n                    disableUnderline\r\n                    type=\"text\"\r\n                    placeholder=\"Post your comment\"\r\n                    sx={{ width: \"100%\" }}\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { Box } from \"@mui/system\";\r\nimport {\r\n  Button,\r\n  CircularProgress,\r\n  Grid,\r\n  IconButton,\r\n  Link,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\r\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\r\nimport MailOutlineIcon from \"@mui/icons-material/MailOutline\";\r\nimport LocationOnIcon from \"@mui/icons-material/LocationOn\";\r\nimport InsertLinkIcon from \"@mui/icons-material/InsertLink\";\r\nimport DateRangeIcon from \"@mui/icons-material/DateRange\";\r\nimport Post from \"../components/Post\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport { getProfile } from \"../redux/authSlice\";\r\nimport { Link as RouteLink } from \"react-router-dom\";\r\nimport { getFollowers, getFollowings } from \"../redux/followSlice\";\r\nimport {\r\n  followAccount,\r\n  followingAccount,\r\n  unfollowAccount,\r\n  unfollowingAccount,\r\n} from \"../api\";\r\nimport format from \"date-fns/format\";\r\n\r\nexport default function Profile() {\r\n  const theme = useTheme();\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const { profile, status } = useSelector((state) => state.auth);\r\n  const { followingStatus, followerStatus, followers, followings } =\r\n    useSelector((state) => state.follow);\r\n  const { _id } = JSON.parse(localStorage.getItem(\"login\"));\r\n\r\n  useEffect(() => {\r\n    dispatch(getProfile(id));\r\n  }, [dispatch, id]);\r\n\r\n  useEffect(() => {\r\n    if (profile.userId) {\r\n      dispatch(getFollowers(profile.userId._id));\r\n      dispatch(getFollowings(profile.userId._id));\r\n    }\r\n  }, [dispatch, profile.userId]);\r\n\r\n  const handleFollow = async () => {\r\n    const responseFollow = await followAccount({\r\n      userId: profile.userId._id,\r\n      followerId: _id,\r\n    });\r\n    const responseFlwing = await followingAccount({\r\n      followingId: profile.userId._id,\r\n      userId: _id,\r\n    });\r\n    if (responseFollow) {\r\n      dispatch(getFollowers(id));\r\n    }\r\n    if (responseFlwing) {\r\n      dispatch(getFollowings(id));\r\n    }\r\n  };\r\n\r\n  const handleUnfollow = async () => {\r\n    const responseFollow = await unfollowAccount({\r\n      id: _id,\r\n      userId: profile.userId._id,\r\n    });\r\n    const responseFlwing = await unfollowingAccount({\r\n      id: profile.userId._id,\r\n      userId: _id,\r\n    });\r\n    if (responseFollow) {\r\n      dispatch(getFollowers(id));\r\n    }\r\n    if (responseFlwing) {\r\n      dispatch(getFollowings(id));\r\n    }\r\n  };\r\n\r\n  function hideFollow() {\r\n    if (profile.userId) {\r\n      return _id === profile.userId._id;\r\n    }\r\n  }\r\n\r\n  function isFollowVisible() {\r\n    if (followers) {\r\n      const index = followers.findIndex(\r\n        (follower) => follower.followerId === _id\r\n      );\r\n      if (index === -1) return true;\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Box borderBottom=\"1px solid #ccc\" padding=\"8px 20px\">\r\n        <Grid container alignItems=\"center\">\r\n          <Grid item sx={{ mr: \"10px\" }}>\r\n            <RouteLink to=\"/\">\r\n              <IconButton>\r\n                <ArrowBackIcon />\r\n              </IconButton>\r\n            </RouteLink>\r\n          </Grid>\r\n\r\n          {status === \"success\" && (\r\n            <Grid item>\r\n              <Typography variant=\"h6\">\r\n                {profile.userId && profile.userId && profile.userId.name}\r\n              </Typography>\r\n              <Typography sx={{ fontSize: \"12px\", color: \"#555\" }}>\r\n                {profile.posts && profile.posts.length} posts\r\n              </Typography>{\" \"}\r\n            </Grid>\r\n          )}\r\n        </Grid>\r\n      </Box>\r\n      <Box textAlign=\"center\">\r\n        {status === \"loading\" && (\r\n          <Box marginTop=\"1rem\">\r\n            <CircularProgress size={20} color=\"primary\" />\r\n          </Box>\r\n        )}\r\n      </Box>\r\n      {status === \"success\" && (\r\n        <Box height=\"90vh\" sx={{ overflowY: \"scroll\" }}>\r\n          <Box position=\"relative\">\r\n            <img\r\n              width=\"100%\"\r\n              src={profile.backgroundImageUrl}\r\n              alt=\"background\"\r\n            />\r\n            <Box\r\n              sx={{\r\n                position: \"absolute\",\r\n                top: 120,\r\n                left: 15,\r\n                background: \"#eee\",\r\n                borderRadius: \"50%\",\r\n              }}\r\n            >\r\n              <img width=\"150px\" src={profile.profileImageUrl} alt=\"profile\" />\r\n            </Box>\r\n          </Box>\r\n          <Box textAlign=\"right\" padding=\"10px 20px\">\r\n            <IconButton>\r\n              <MoreHorizIcon />\r\n            </IconButton>\r\n            <IconButton>\r\n              <MailOutlineIcon />\r\n            </IconButton>\r\n            {!hideFollow() && isFollowVisible() && (\r\n              <Button\r\n                onClick={handleFollow}\r\n                size=\"small\"\r\n                sx={{\r\n                  borderRadius: theme.shape.borderRadius,\r\n                  textTransform: \"capitalize\",\r\n                  padding: \"6px 20px\",\r\n                  background: \"black\",\r\n                  \"&:hover\": {\r\n                    background: \"#333\",\r\n                  },\r\n                }}\r\n                variant=\"contained\"\r\n              >\r\n                Follow\r\n              </Button>\r\n            )}\r\n\r\n            {!hideFollow() && !isFollowVisible() && (\r\n              <Button\r\n                onClick={handleUnfollow}\r\n                size=\"small\"\r\n                sx={{\r\n                  borderRadius: theme.shape.borderRadius,\r\n                  textTransform: \"capitalize\",\r\n                  padding: \"6px 20px\",\r\n                  background: \"black\",\r\n                  \"&:hover\": {\r\n                    background: \"#333\",\r\n                  },\r\n                }}\r\n                variant=\"contained\"\r\n              >\r\n                Unfollow\r\n              </Button>\r\n            )}\r\n          </Box>\r\n          <Box padding=\"10px 20px\">\r\n            <Typography variant=\"h6\" sx={{ fontWeight: \"500\" }}>\r\n              {profile.userId && profile.userId.name}\r\n            </Typography>\r\n            <Typography sx={{ fontSize: \"14px\", color: \"#555\" }}>\r\n              @{profile.userId && profile.userId.handle}\r\n            </Typography>\r\n            <Typography fontSize=\"16px\" color=\"#333\" padding=\"10px 0\">\r\n              {profile.bio}\r\n            </Typography>\r\n            <Box\r\n              display=\"flex\"\r\n              alignItems=\"center\"\r\n              padding=\"6px 0\"\r\n              flexWrap=\"wrap\"\r\n            >\r\n              <Box display=\"flex\">\r\n                <LocationOnIcon htmlColor=\"#555\" />\r\n                <Typography sx={{ ml: \"6px\", color: \"#555\" }}>\r\n                  {profile.location}\r\n                </Typography>\r\n              </Box>\r\n              <Box display=\"flex\" marginLeft=\"1rem\">\r\n                <InsertLinkIcon htmlColor=\"#555\" />\r\n                <Link\r\n                  sx={{ textDecoration: \"none\", marginLeft: \"6px\" }}\r\n                  href={profile.website || \"https:/wasifbaliyan.com\"}\r\n                >\r\n                  {profile.website ? profile.website : \"www\"}\r\n                </Link>\r\n              </Box>\r\n              <Box display=\"flex\" marginLeft=\"1rem\">\r\n                <DateRangeIcon htmlColor=\"#555\" />\r\n                <Typography sx={{ ml: \"6px\", color: \"#555\" }}>\r\n                  {profile.userId &&\r\n                    profile.userId &&\r\n                    profile.userId.createdAt &&\r\n                    format(new Date(profile.userId.createdAt), \"MMM dd yyyy\")}\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n            <Box display=\"flex\">\r\n              <Typography color=\"#555\" marginRight=\"1rem\">\r\n                <strong style={{ color: \"black\" }}>\r\n                  {followingStatus === \"success\" && followings.length}\r\n                </strong>\r\n                Following\r\n              </Typography>\r\n              <Typography color=\"#555\" marginRight=\"1rem\">\r\n                <strong style={{ color: \"black\" }}>\r\n                  {followerStatus === \"success\" && followers.length}\r\n                </strong>\r\n                Followers\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n          <Box borderBottom=\"1px solid #ccc\">\r\n            <Typography\r\n              display=\"inline-block\"\r\n              variant=\"caption\"\r\n              fontSize=\"16px\"\r\n              marginX=\"1rem\"\r\n              padding=\"6px 0\"\r\n              fontWeight=\"500\"\r\n              borderBottom={`4px solid ${theme.palette.primary.main}`}\r\n            >\r\n              Posts\r\n            </Typography>\r\n          </Box>\r\n          {profile.posts &&\r\n            profile.posts.map((post) => (\r\n              <Post key={post._id} post={post} profile={true} />\r\n            ))}\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nexport default function PrivateRoute({ path, ...props }) {\r\n  const { isLoggedIn } = useSelector((state) => state.auth);\r\n  if (isLoggedIn) {\r\n    return <Route path={path} {...props} />;\r\n  } else {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n}\r\n","import { Button, Grid, Input } from \"@mui/material\";\r\nimport { Box, useTheme } from \"@mui/system\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addPost } from \"../api\";\r\nimport { getPosts } from \"../redux/postSlice\";\r\n\r\nexport default function AddPost() {\r\n  const dispatch = useDispatch();\r\n  const theme = useTheme();\r\n  const [postText, setPostText] = useState(\"\");\r\n  const handleAddPost = async () => {\r\n    const data = await addPost({ text: postText });\r\n    if (data) {\r\n      dispatch(getPosts());\r\n      setPostText(\"\");\r\n    }\r\n  };\r\n  return (\r\n    <Box padding=\"1rem 1rem 0 1rem\" borderBottom=\"1px solid #ccc\">\r\n      <Grid container>\r\n        <Grid item sx={{ paddingRight: \"1rem\" }}>\r\n          <img src=\"/logo.png\" alt=\"lgogo\" width=\"50px\" />\r\n        </Grid>\r\n        <Grid item flexGrow=\"1\">\r\n          <Box padding=\".5rem 0\">\r\n            <Input\r\n              value={postText}\r\n              onChange={(e) => setPostText(e.target.value)}\r\n              multiline\r\n              rows=\"2\"\r\n              disableUnderline\r\n              type=\"text\"\r\n              placeholder=\"What's happening?\"\r\n              sx={{ width: \"100%\" }}\r\n            />\r\n          </Box>\r\n          <Box\r\n            textAlign=\"right\"\r\n            paddingBottom=\".5rem\"\r\n            paddingTop=\".5rem\"\r\n            borderTop=\"1px solid #ccc\"\r\n          >\r\n            <Button\r\n              onClick={handleAddPost}\r\n              disabled={postText.trimStart().length === 0}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              sx={{\r\n                borderRadius: theme.shape.borderRadius,\r\n                fontSize: \"12px\",\r\n              }}\r\n            >\r\n              Post\r\n            </Button>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n","import { CircularProgress, Grid, IconButton, Typography } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useEffect } from \"react\";\r\nimport AssistantIcon from \"@mui/icons-material/Assistant\";\r\nimport Post from \"../components/Post\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getPosts } from \"../redux/postSlice\";\r\nimport AddPost from \"../components/AddPost\";\r\n\r\nexport default function Home() {\r\n  const dispatch = useDispatch();\r\n  const { status, posts } = useSelector((state) => state.post);\r\n  useEffect(() => {\r\n    dispatch(getPosts());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Box>\r\n      <Box borderBottom=\"1px solid #ccc\" padding=\"8px 20px\">\r\n        <Grid container justifyContent=\"space-between\" alignItems=\"center\">\r\n          <Grid item>\r\n            <Typography variant=\"h6\">Home</Typography>\r\n          </Grid>\r\n          <Grid item>\r\n            <IconButton>\r\n              <AssistantIcon />\r\n            </IconButton>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n      <Box height=\"92vh\" sx={{ overflowY: \"scroll\" }}>\r\n        <AddPost />\r\n        <Box textAlign=\"center\" marginTop=\"1rem\">\r\n          {status === \"loading\" && (\r\n            <CircularProgress size={20} color=\"primary\" />\r\n          )}\r\n        </Box>\r\n        {status === \"success\" &&\r\n          posts.map((post) => <Post key={post._id} post={post} />)}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import { Grid, IconButton, Typography } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React from \"react\";\r\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\r\nimport formatDistanceToNow from \"date-fns/formatDistanceToNow\";\r\n\r\nexport default function Comment({ comment }) {\r\n  return (\r\n    <Box\r\n      padding=\"1rem\"\r\n      sx={{\r\n        \"&:hover\": {\r\n          backgroundColor: \"#eee\",\r\n        },\r\n      }}\r\n    >\r\n      <Grid container flexWrap=\"nowrap\">\r\n        <Grid item sx={{ paddingRight: \"1rem\" }}>\r\n          <img src=\"/logo.png\" alt=\"lgoog\" width=\"50px\" />\r\n        </Grid>\r\n        <Grid item flexGrow=\"1\">\r\n          <Box>\r\n            <Grid\r\n              container\r\n              justifyContent=\"space-between\"\r\n              alignItems=\"center\"\r\n              flexWrap=\"nowrap\"\r\n            >\r\n              <Grid item>\r\n                <Box display=\"flex\">\r\n                  <Typography\r\n                    sx={{ fontSize: \"16px\", fontWeight: 500, mr: \"6px\" }}\r\n                  >\r\n                    {comment.author.name}\r\n                  </Typography>\r\n                  <Typography\r\n                    sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\r\n                  >\r\n                    @{comment.author.handle}\r\n                  </Typography>\r\n                  <Typography\r\n                    sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\r\n                  >\r\n                    .\r\n                  </Typography>\r\n                  <Typography\r\n                    sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\r\n                  >\r\n                    {formatDistanceToNow(new Date(comment.createdAt))}{\" \"}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography sx={{ fontSize: \"15px\", color: \"#555\" }}>\r\n                    {comment.text}\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item>\r\n                <IconButton>\r\n                  <MoreHorizIcon />\r\n                </IconButton>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n","import {\r\n  Button,\r\n  CircularProgress,\r\n  Grid,\r\n  IconButton,\r\n  Input,\r\n  Menu,\r\n  MenuItem,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport format from \"date-fns/format\";\r\n\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\r\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\r\nimport ChatBubbleOutlineIcon from \"@mui/icons-material/ChatBubbleOutline\";\r\nimport SyncIcon from \"@mui/icons-material/Sync\";\r\nimport FavoriteBorderIcon from \"@mui/icons-material/FavoriteBorder\";\r\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\r\n\r\nimport IosShareIcon from \"@mui/icons-material/IosShare\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getComments, getPostDetails } from \"../redux/postSlice\";\r\nimport { addComment, deletePost, likeOrDislikePost } from \"../api\";\r\nimport Comment from \"../components/Comment\";\r\n\r\nexport default function PostDetails() {\r\n  const [commentText, setCommentText] = useState(\"\");\r\n  const theme = useTheme();\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { status, comments, commentStatus, postDetails } = useSelector(\r\n    (state) => state.post\r\n  );\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const { _id } = JSON.parse(localStorage.getItem(\"login\"));\r\n  const handleDeletePost = async () => {\r\n    const response = await deletePost({ id: postDetails._id });\r\n    if (response) {\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  const handleLike = async (e) => {\r\n    e.preventDefault();\r\n    const response = await likeOrDislikePost({ id: postDetails._id });\r\n    if (response) {\r\n      dispatch(getPostDetails(id));\r\n      dispatch(getComments(id));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getPostDetails(id));\r\n    dispatch(getComments(id));\r\n  }, [dispatch, id]);\r\n\r\n  const handleAddComment = async () => {\r\n    const response = await addComment({ id, text: commentText });\r\n    if (response) {\r\n      dispatch(getComments(id));\r\n      setCommentText(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Box borderBottom=\"1px solid #ccc\" padding=\"8px 20px\">\r\n        <Grid container alignItems=\"center\">\r\n          <Grid item sx={{ mr: \"10px\" }}>\r\n            <IconButton onClick={() => history.push(\"/\")}>\r\n              <ArrowBackIcon />\r\n            </IconButton>\r\n          </Grid>\r\n          <Grid item>\r\n            <Typography variant=\"h6\">Post</Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n      <Box height=\"92vh\" sx={{ overflowY: \"scroll\" }}>\r\n        <Box textAlign=\"center\" marginTop=\"1rem\">\r\n          {status === \"loading\" && (\r\n            <CircularProgress size={20} color=\"primary\" />\r\n          )}\r\n        </Box>\r\n        {status === \"success\" && (\r\n          <Box padding=\"0 20px\">\r\n            <Box>\r\n              <Grid container alignItems=\"center\">\r\n                <Grid item>\r\n                  <img src=\"/logo.png\" alt=\"lgogo\" width=\"60px\" />\r\n                </Grid>\r\n                <Grid item flexGrow=\"1\">\r\n                  <Grid container justifyContent=\"space-between\">\r\n                    <Grid item>\r\n                      <Typography sx={{ fontSize: \"16px\", fontWeight: \"500\" }}>\r\n                        {postDetails.author && postDetails.author.name}\r\n                      </Typography>\r\n                      <Typography sx={{ fontSize: \"15px\", color: \"#555\" }}>\r\n                        @{postDetails.author && postDetails.author.handle}\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item>\r\n                      {status === \"success\" &&\r\n                        postDetails.author &&\r\n                        _id === postDetails.author._id && (\r\n                          <IconButton\r\n                            aria-expanded={open ? \"true\" : undefined}\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              handleClick(e);\r\n                            }}\r\n                          >\r\n                            <MoreHorizIcon />\r\n                          </IconButton>\r\n                        )}\r\n\r\n                      <Menu\r\n                        id=\"basic-menu\"\r\n                        anchorEl={anchorEl}\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        MenuListProps={{\r\n                          \"aria-labelledby\": \"basic-button\",\r\n                        }}\r\n                      >\r\n                        <MenuItem\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            handleDeletePost();\r\n                          }}\r\n                        >\r\n                          Delete Post\r\n                        </MenuItem>\r\n                      </Menu>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n            <Box>\r\n              <Typography sx={{ fontSize: \"20px\" }}>\r\n                {postDetails.text}\r\n              </Typography>\r\n            </Box>\r\n            <Box display=\"flex\" padding=\"1rem 0\" borderBottom=\"1px solid #ccc\">\r\n              <Typography sx={{ fontSize: \"14px\", mr: \"6px\", color: \"#555\" }}>\r\n                {postDetails &&\r\n                  postDetails.createdAt &&\r\n                  format(new Date(postDetails.createdAt), \"HH:mm a\")}\r\n              </Typography>\r\n              <Typography sx={{ fontSize: \"14px\", mr: \"6px\", color: \"#555\" }}>\r\n                .\r\n              </Typography>\r\n              <Typography sx={{ fontSize: \"14px\", mr: \"6px\", color: \"#555\" }}>\r\n                {postDetails &&\r\n                  postDetails.createdAt &&\r\n                  format(new Date(postDetails.createdAt), \"MMM dd yyyy\")}\r\n              </Typography>\r\n            </Box>\r\n            <Box display=\"flex\" padding=\"1rem 0\" borderBottom=\"1px solid #ccc\">\r\n              <Typography sx={{ fontSize: \"14px\", mr: \"6px\", color: \"#555\" }}>\r\n                <strong>{postDetails.likes && postDetails.likes.length}</strong>{\" \"}\r\n                Likes\r\n              </Typography>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"space-around\"\r\n              padding=\".5rem 0\"\r\n              borderBottom=\"1px solid #ccc\"\r\n            >\r\n              <IconButton size=\"small\">\r\n                <ChatBubbleOutlineIcon fontSize=\"small\" />\r\n              </IconButton>\r\n              <IconButton size=\"small\">\r\n                <SyncIcon fontSize=\"small\" />\r\n              </IconButton>\r\n              <IconButton onClick={handleLike} size=\"small\">\r\n                {postDetails.isLiked ? (\r\n                  <FavoriteIcon fontSize=\"small\" />\r\n                ) : (\r\n                  <FavoriteBorderIcon fontSize=\"small\" />\r\n                )}\r\n              </IconButton>\r\n              <IconButton size=\"small\">\r\n                <IosShareIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </Box>\r\n            <Box>\r\n              <Grid container>\r\n                <Grid item>\r\n                  <img src=\"/logo.png\" alt=\"logo\" width=\"60px\" />\r\n                </Grid>\r\n                <Grid item flexGrow=\"1\">\r\n                  <Box padding=\".5rem 0\">\r\n                    <Input\r\n                      onChange={(e) => setCommentText(e.target.value)}\r\n                      value={commentText}\r\n                      multiline\r\n                      rows=\"2\"\r\n                      disableUnderline\r\n                      type=\"text\"\r\n                      placeholder=\"Post your comment\"\r\n                      sx={{ width: \"100%\" }}\r\n                    />\r\n                  </Box>\r\n                  <Box textAlign=\"right\" paddingBottom=\".5rem\">\r\n                    <Button\r\n                      disabled={commentText.length === 0}\r\n                      onClick={handleAddComment}\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      size=\"small\"\r\n                      sx={{\r\n                        borderRadius: theme.shape.borderRadius,\r\n                        fontSize: \"12px\",\r\n                      }}\r\n                    >\r\n                      Comment\r\n                    </Button>\r\n                  </Box>\r\n                </Grid>\r\n              </Grid>\r\n              <Box textAlign=\"center\" marginTop=\"1rem\">\r\n                {commentStatus === \"loading\" && (\r\n                  <CircularProgress size={20} color=\"primary\" />\r\n                )}\r\n              </Box>\r\n              {commentStatus === \"success\" &&\r\n                comments.map((comment) => (\r\n                  <Comment key={comment._id} comment={comment} />\r\n                ))}\r\n            </Box>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import Login from \"./pages/Login\";\r\n\r\nimport Layout from \"./components/Layout\";\r\nimport Profile from \"./pages/Profile\";\r\nimport PrivateRoute from \"./components/PrivateRoute\";\r\nimport { Route, Switch } from \"react-router\";\r\nimport Home from \"./pages/Home\";\r\nimport PostDetails from \"./pages/PostDetails\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { setAuth } from \"./redux/authSlice\";\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const { isLoggedIn } = useSelector((state) => state.auth);\r\n\r\n  useEffect(() => {\r\n    if (\"login\" in localStorage) {\r\n      const login = JSON.parse(localStorage.getItem(\"login\"));\r\n      axios.defaults.headers.common[\"authorization\"] = `Bearer ${login.token}`;\r\n    }\r\n  }, [isLoggedIn]);\r\n\r\n  useEffect(() => {\r\n    const { isLoggedIn } = JSON.parse(localStorage.getItem(\"login\")) || {};\r\n    if (isLoggedIn) {\r\n      dispatch(setAuth({ isLoggedIn }));\r\n    }\r\n  }, [dispatch, isLoggedIn]);\r\n  return (\r\n    <Switch>\r\n      <PrivateRoute exact path=\"/profile/:id\">\r\n        <Layout>\r\n          <Profile />\r\n        </Layout>\r\n      </PrivateRoute>\r\n      <PrivateRoute exact path=\"/posts/:id\">\r\n        <Layout>\r\n          <PostDetails />\r\n        </Layout>\r\n      </PrivateRoute>\r\n      <PrivateRoute exact path=\"/\">\r\n        <Layout>\r\n          <Home />\r\n        </Layout>\r\n      </PrivateRoute>\r\n      <Route path=\"/login\">\r\n        <Login />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport authSlice from \"./authSlice\";\r\nimport followSlice from \"./followSlice\";\r\nimport postSlice from \"./postSlice\";\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: authSlice,\r\n    post: postSlice,\r\n    follow: followSlice,\r\n  },\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport axios from \"axios\";\r\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./redux/store\";\r\nconst theme = createTheme({});\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\n// axios.defaults.baseURL = `https://social-dungx.herokuapp.com`;\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <ThemeProvider theme={theme}>\r\n          <App />\r\n        </ThemeProvider>\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}